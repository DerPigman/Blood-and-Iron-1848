###########################
# Liberalism Events
###########################

add_namespace = liberalism_ideologie_events

# Move Towards Liberalism
country_event = {
  id = liberalism_ideologie_events.1
  title = liberalism_ideologie_events.1.t
  desc = liberalism_ideologie_events.1.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = {
      OR = {
        	has_government = conservatism_ideologie
	has_government = liberalism_ideologie
	has_government = centrism_ideologie
	has_government = socialism_ideologie
	has_government = nationalism_ideologie
	has_government = oligarchism_ideologie

      }
    }
	}

	# Seek government support
	option = {
		name = liberalism_ideologie_events.1.a
		custom_effect_tooltip = liberalism_ideologie_events.1.a.tt
		clr_country_flag = liberalism_ideologie_popular_movement
		clr_country_flag = liberalism_ideologie_opposition_formed
		set_country_flag = liberalism_ideologie_political_movement
	}

	# Seek popular support
	option = {
		name = liberalism_ideologie_events.1.b
		custom_effect_tooltip = liberalism_ideologie_events.1.b.tt
		clr_country_flag = liberalism_ideologie_political_movement
		clr_country_flag = liberalism_ideologie_government_support
		set_country_flag = liberalism_ideologie_popular_movement
	}
}

# [Ruling Party] Debates Democracy
country_event = {
	id = liberalism_ideologie_events.2
	title = liberalism_ideologie_events.2.t
	desc = liberalism_ideologie_events.2.d
	picture = GFX_report_event_journalists_speech

	trigger = {
		has_idea_with_trait = liberalism_ideologie_reformer
    NOT = {
      OR = {
        	has_government = conservatism_ideologie
	has_government = liberalism_ideologie
	has_government = centrism_ideologie
	has_government = socialism_ideologie
	has_government = nationalism_ideologie
	has_government = oligarchism_ideologie

      }
    }
		NOT = { has_country_flag = liberalism_ideologie_government_support }
	}

	mean_time_to_happen = {
		days = 400
		modifier = {
			factor = 0.5
			has_country_flag = liberalism_ideologie_political_movement
		}
		modifier = {
			factor = 0.5
			liberalism_ideologie > 0.5
		}
	}

	option = {
		name = liberalism_ideologie_events.2.a
		custom_effect_tooltip = liberalism_ideologie_events.2.tt
		clr_country_flag = liberalism_ideologie_political_movement
		set_country_flag = liberalism_ideologie_government_support
	}
}

# Liberalism Opposition Forming
country_event = {
  id = liberalism_ideologie_events.3
  title = liberalism_ideologie_events.3.t
  desc = liberalism_ideologie_events.3.d
	picture = GFX_report_event_journalists_speech

	trigger = {
		has_idea_with_trait = liberalism_ideologie_reformer
    NOT = {
      OR = {
        	has_government = conservatism_ideologie
	has_government = liberalism_ideologie
	has_government = centrism_ideologie
	has_government = socialism_ideologie
	has_government = nationalism_ideologie
	has_government = oligarchism_ideologie

      }
    }
		NOT = { has_country_flag = liberalism_ideologie_opposition_formed }
	}

	mean_time_to_happen = {
		days = 300
		modifier = {
			factor = 0.5
			has_country_flag = liberalism_ideologie_popular_movement
		}
	}

	option = {
		name = liberalism_ideologie_events.3.a
		add_popularity = {
			ideology = liberalism_ideologie
			popularity = 0.1
		}
		add_national_unity = -0.02
		set_country_flag = liberalism_ideologie_opposition_formed
	}
}

# Public Call for Elections
country_event = {
	id = liberalism_ideologie_events.4
	title = liberalism_ideologie_events.4.t
	desc = liberalism_ideologie_events.4.d
	picture = GFX_report_event_election_vote

	trigger = {
		has_idea_with_trait = liberalism_ideologie_reformer
    NOT = {
      OR = {
        	has_government = conservatism_ideologie
	has_government = liberalism_ideologie
	has_government = centrism_ideologie
	has_government = socialism_ideologie
	has_government = nationalism_ideologie
	has_government = oligarchism_ideologie

      }
    }
		has_country_flag = liberalism_ideologie_opposition_formed
		NOT = { has_idea = liberalism_ideologie_opposition_voicing_protests }
	}

	mean_time_to_happen = {
		days = 150
	}

	option = {
		name = liberalism_ideologie_events.4.a
	}

	option = {
		name = liberalism_ideologie_events.4.b
		add_political_power = -20
		add_ideas = liberalism_ideologie_opposition_voicing_protests
	}
}

country_event = {
	id = liberalism_ideologie_events.5
	title = liberalism_ideologie_events.5.t
	desc = liberalism_ideologie_events.5.d
	picture = GFX_report_event_election_vote

	trigger = {
		has_idea_with_trait = liberalism_ideologie_reformer
    NOT = {
      OR = {
        	has_government = conservatism_ideologie
	has_government = liberalism_ideologie
	has_government = centrism_ideologie
	has_government = socialism_ideologie
	has_government = nationalism_ideologie
	has_government = oligarchism_ideologie

      }
    }
		liberalism_ideologie > 0.5
		has_country_flag = liberalism_ideologie_government_support
		is_puppet = no
	}

	mean_time_to_happen = {
		days = 200
	}

	option = {
		name = liberalism_ideologie_events.5.a
    if = {
			limit = {
        OR = {
          	has_government = authoritarianism_ideologie

        }
      }
			add_timed_idea = { idea = fascism_defeated days = 730 }
		}
		if = {
			limit = {
        OR = {
          	has_government = jacobinism_ideologie
	has_government = marxism_ideologie

        }
      }
			add_timed_idea = { idea = communism_defeated days = 730 }
		}
		set_politics = {
			ruling_party = liberalism_ideologie
			elections_allowed = yes
		}
		hold_election = ROOT
		remove_ideas = liberalism_ideologie_revolutionaries
	}
	option = {
		name = liberalism_ideologie_events.5.b
	}
}

### > 50% support
country_event = {
	id = liberalism_ideologie_events.6
	title = liberalism_ideologie_events.6.t
	desc = liberalism_ideologie_events.6.d
	picture = GFX_report_event_journalists_speech

	trigger = {
		liberalism_ideologie > 0.5
		NOT = { has_government = liberalism_ideologie }
		NOT = { has_idea = liberalism_ideologie_revolutionaries }
		NOT = { has_idea = reign_of_terror }
		is_puppet = no
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = liberalism_ideologie_events.6.a
		add_political_power = -100
		add_popularity = {
			ideology = liberalism_ideologie
			popularity = -0.10
		}
		add_timed_idea = {
			idea = liberalism_ideologie_revolutionaries
			days = 365
		}
	}

	option = {
		name = liberalism_ideologie_events.6.b
		add_timed_idea = {
			idea = liberalism_ideologie_revolutionaries
			days = 365
		}
	}

	option = {
		name = liberalism_ideologie_events.6.c
    if = {
			limit = {
        OR = {
          	has_government = authoritarianism_ideologie

        }
      }
			add_timed_idea = { idea = fascism_defeated days = 730 }
		}
		if = {
			limit = {
        OR = {
          	has_government = jacobinism_ideologie
	has_government = marxism_ideologie

        }
      }
			add_timed_idea = { idea = communism_defeated days = 730 }
		}
		set_politics = {
			ruling_party = liberalism_ideologie
			elections_allowed = yes
		}
		add_national_unity = -0.05
	}
}

### Revolution
country_event = {
	id = liberalism_ideologie_events.7
	title = liberalism_ideologie_events.7.t
	desc = liberalism_ideologie_events.7.d
	picture = GFX_report_event_worker_protests

	trigger = {
		fascism > 0.7
		has_idea = liberalism_ideologie_revolutionaries
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		hidden_effect = { remove_ideas = liberalism_ideologie_revolutionaries }
	}

	option = {
		name = liberalism_ideologie_events.7.a
		start_civil_war = {
			ideology = liberalism_ideologie
			size = 0.5
		}
	}

	option = {
		name = liberalism_ideologie_events.7.b
		if = {
   limit = {
      has_government = conservatism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = conservatism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = centrism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = centrism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = socialism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = socialism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = jacobinism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = jacobinism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = marxism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = marxism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = nationalism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = nationalism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = authoritarianism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = authoritarianism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = monarchism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = monarchism_ideologie
      size = 0.6
   }
}
if = {
   limit = {
      has_government = oligarchism_ideologie
   }
   start_civil_war = {
      ruling_party = liberalism_ideologie
      ideology = oligarchism_ideologie
      size = 0.6
   }
}

	}
}

### Suppressed
country_event = {
	id = liberalism_ideologie_events.8
	title = liberalism_ideologie_events.8.t
	desc = liberalism_ideologie_events.8.d
	picture = GFX_report_event_fascists_posing

	trigger = {
		liberalism_ideologie < 0.3
		has_idea = liberalism_ideologie_revolutionaries
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = liberalism_ideologie_events.8.a
		remove_ideas = liberalism_ideologie_revolutionaries
	}
}
